{"mappings":"AAGA,MAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,gBAC/BC,YAAaF,SAASC,cAAc,cACpCE,QAASH,SAASC,cAAc,aAE9BG,EAAa,ICRJ,MASXC,oBACI,MAAMC,EAAM,GAAGC,KAAKC,eAAeD,KAAKE,WAAWF,KAAKG,wBAAwBH,KAAKI,iBAAiBJ,KAAKK,OACrGC,QAAiBC,MAAMR,GAE7B,IAAKO,EAASE,GACV,MAAM,IAAIC,MAAMH,EAASI,QAI7B,OAFAV,KAAKK,MAAQ,QAEAC,EAASK,M,CAG1BC,YACIZ,KAAKK,KAAO,C,CAGZQ,YACA,OAAOb,KAAKG,W,CAGZU,UAAMC,GACNd,KAAKG,YAAcW,C,CA7BvBC,cACIf,KAAKG,YAAc,GACnBH,KAAKK,KAAO,EACZL,KAAKI,SAAW,GAChBJ,KAAKE,MAAQ,qCACbF,KAAKC,QACD,kF,GDYZV,EAAKC,OAAOwB,iBAAiB,UATTC,IAChBA,EAAEC,iBAEFrB,EAAWgB,MAAQI,EAAEE,cAAcC,SAASjB,YAAYkB,MAExDxB,EAAWe,YACXf,EAAWyB,aAAa,IAU5B/B,EAAKI,YAAYqB,iBAAiB,SALfC,IACfpB,EAAWyB,YAAYzB,EAAWgB,OAClCU,QAAQC,IAAI,EAAE","sources":["src/index.js","src/js/api-service.js"],"sourcesContent":["import './css/styles.css';\nimport ApiService from './js/api-service';\n\nconst refs = {\n    formEl: document.querySelector('.search-form'),\n    loadMoreBtn: document.querySelector('.load-more'),\n    gallery: document.querySelector('.gallery'),\n};\nconst apiService = new ApiService();\n\nconst onSearchBtn = e => {\n    e.preventDefault();\n\n    apiService.query = e.currentTarget.elements.searchQuery.value;\n\n    apiService.resetPage();\n    apiService.fetchImages();\n    // console.log(searchQuery);\n};\nrefs.formEl.addEventListener('submit', onSearchBtn);\n\nconst onLoadMore = e => {\n    apiService.fetchImages(apiService.query);\n    console.log(7);\n};\n\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n","export default class ApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n        this.per_page = 40;\n        this.keyIp = '31814066-d36b2cc87cac42beedbbff451';\n        this.baseUrl =\n            'https://pixabay.com/api/?image_type=photo&orientation=horizontal&safesearch=true';\n    }\n    async fetchImages() {\n        const url = `${this.baseUrl}&key=${this.keyIp}&q=${this.searchQuery}&per_page=${this.per_page}&page=${this.page}`;\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        this.page += 1;\n\n        return await response.json();\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","formEl","document","querySelector","loadMoreBtn","gallery","$1f0dc3b9307be026$var$apiService","async","url","this","baseUrl","keyIp","searchQuery","per_page","page","response","fetch","ok","Error","status","json","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value","fetchImages","console","log"],"version":3,"file":"index.dbd91787.js.map"}